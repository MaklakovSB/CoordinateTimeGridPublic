<UserControl x:Class="WPF.CTG.CoordinateTimeGrid"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:WPF.CTG"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             x:Name="RootUserControl"
             d:DesignHeight="300"
             d:DesignWidth="600"
             mc:Ignorable="d">
    <UserControl.Resources />
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <Canvas x:Name="_coordinateViewPort"
                Grid.Row="1"
                Grid.Column="1"
                Background="Black"
                ClipToBounds="True"
                SnapsToDevicePixels="True">

            <local:ScalableCoordinatePlane x:Name="_scalableCoordinatePlane"
                                           Canvas.Left="{Binding TransformManager.CanvasLeft,
                                                                 ElementName=RootUserControl}"
                                           Canvas.Top="{Binding TransformManager.CanvasTop,
                                                                ElementName=RootUserControl}"
                                           Width="12000"
                                           Height="8000"
                                           GridColor="White"
                                           MoveX="{Binding TransformManager.MoveX,
                                                           ElementName=RootUserControl}"
                                           MoveY="{Binding TransformManager.MoveY,
                                                           ElementName=RootUserControl}"
                                           ScaleCenterX="{Binding TransformManager.ScaleCenterX,
                                                                  ElementName=RootUserControl}"
                                           ScaleCenterY="{Binding TransformManager.ScaleCenterY,
                                                                  ElementName=RootUserControl}"
                                           ScaleRateX="{Binding TransformManager.ScaleRateX,
                                                                ElementName=RootUserControl}"
                                           ScaleRateY="{Binding TransformManager.ScaleRateY,
                                                                ElementName=RootUserControl}"
                                           SnapsToDevicePixels="True">

                <Rectangle Canvas.Left="20"
                           Canvas.Top="400"
                           Width="100"
                           Height="20"
                           Fill="#80ffff55" />

            </local:ScalableCoordinatePlane>

            <Grid x:Name="_debugInfo"
                  Canvas.Left="10"
                  Canvas.Top="10"
                  Background="#80001000"
                  Visibility="{Binding DebugInfoVisibility}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.Resources>
                    <Style TargetType="TextBlock">
                        <Setter Property="FontSize" Value="18" />
                        <Setter Property="Foreground" Value="Chartreuse" />
                    </Style>
                </Grid.Resources>

                <TextBlock Grid.Row="0"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Коэффициент масштаба по оси X. (ScaleRateX)" />
                <TextBlock Grid.Row="0"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.ScaleRateX,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="1"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Коэффициент масштаба по оси Y. (ScaleRateY)" />
                <TextBlock Grid.Row="1"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.ScaleRateY,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="2"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Опорная точка масштабирования. Координата X. (CenterX)" />
                <TextBlock Grid.Row="2"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.ScaleCenterX,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="3"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Опорная точка масштабирования. Координата Y. (CenterY)" />
                <TextBlock Grid.Row="3"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.ScaleCenterY,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="4"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Корректировочное смещение по оси X. (MoveX)" />
                <TextBlock Grid.Row="4"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.MoveX,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="5"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Корректировочное смещение по оси Y. (MoveY)" />
                <TextBlock Grid.Row="5"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.MoveY,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="6"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Позиция координатной плоскости по оси X. (CanvasLeft)" />
                <TextBlock Grid.Row="6"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.CanvasLeft,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="7"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Позиция координатной плоскости по оси Y. (CanvasTop)" />
                <TextBlock Grid.Row="7"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.CanvasTop,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="8"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Ширина координатной плоскости с учётом масштаба." />
                <TextBlock Grid.Row="8"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.WidthWithScaling,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="9"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Высота координатной плоскости с учётом масштаба." />
                <TextBlock Grid.Row="9"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding TransformManager.HeightWithScaling,
                                          ElementName=RootUserControl}" />

                <TextBlock Grid.Row="10"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Актуальная ширина ViewPort." />
                <TextBlock Grid.Row="10"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding ActualWidth,
                                          ElementName=_coordinateViewPort}" />

                <TextBlock Grid.Row="11"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Актуальная высота ViewPort." />
                <TextBlock Grid.Row="11"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding ActualHeight,
                                          ElementName=_coordinateViewPort}" />

                <!--<TextBlock Grid.Row="12"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Максимальная ширина ViewPort." />
                <TextBlock Grid.Row="12"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding MaxWidth,
                                          ElementName=_coordinateViewPort}" />

                <TextBlock Grid.Row="13"
                           Grid.Column="0"
                           Margin="4,0,2,0"
                           Text="Максимальная высота ViewPort." />
                <TextBlock Grid.Row="13"
                           Grid.Column="1"
                           Margin="2,0,4,0"
                           HorizontalAlignment="Center"
                           Text="{Binding MaxHeight,
                                          ElementName=_coordinateViewPort}" />-->
            </Grid>

        </Canvas>

        <ScrollBar Grid.Row="1" Grid.Column="2" Orientation="Vertical" x:Name="_verticalScrollBar" Visibility="{Binding VerticalScrollBarVisibility, ElementName=RootUserControl}"/>
        <ScrollBar Grid.Row="2" Grid.Column="1" Orientation="Horizontal" x:Name="_horizontalScrollBar" Visibility="{Binding HorizontalScrollBarVisibility, ElementName=RootUserControl}"/>
        
    </Grid>
</UserControl>
